<!DOCTYPE html>

<!--
  만든이(Author): HYS
  제작: 개념 기반 탐구 수학 수업 실천 연구회 (25년 전국단위연구회)
  사용 안내: 이 소스를 재사용/배포할 때 위의 출처를 남겨 주세요.
  © 2025. All rights reserved.
-->
<html lang="ko">
<head>
        <meta name="author" content="HYS">
    <meta name="copyright" content="개념 기반 탐구 수학 수업 실천 연구회 (25년 전국단위연구회)">
<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>중학교 수학 교육과정 내용 체계</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .card {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    
/* ==== 결과표 스타일 ==== */
.curr-table { 
    width: 100%; 
    border-collapse: collapse; 
    background: #ffffff;
    font-family: 'Noto Sans KR', Arial;
}

.curr-table th, .curr-table td {
    border: 1px solid #000000;
    padding: 10px; 
    vertical-align: top; 
    font-size: 10pt;
}

/* s5 스타일: 헤더 셀 */
.curr-table .s5 {
    background-color: #efefef;
    text-align: center;
    color: #000000;
    font-weight: normal;
    vertical-align: middle;
    white-space: normal;
    overflow: hidden;
    word-wrap: break-word;
    direction: ltr;
    padding: 2px 3px 2px 3px;
}

/* s7 스타일: 내용 셀 */
.curr-table .s7 {
    background-color: #ffffff;
    text-align: left;
    color: #000000;
    font-weight: normal;
    vertical-align: middle;
    white-space: normal;
    overflow: hidden;
    word-wrap: break-word;
    direction: ltr;
    padding: 2px 3px 2px 3px;
}

.curr-table ul { 
    margin-left: 1rem; 
    list-style: disc; 
}


/* ===== Attribution Badge ===== */
.attribution-badge{
  position: fixed;
  right: 1rem;
  bottom: 1rem;
  z-index: 50;
  font-size: 12px;
  color: #334155;
  background: rgba(255,255,255,0.9);
  border: 1px solid rgba(15,23,42,0.1);
  border-radius: 0.75rem;
  padding: 6px 10px;
  box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
  pointer-events: none;
}
@media print {
  .attribution-badge{ 
    position: fixed; 
    right: 1cm; 
    bottom: 1cm; 
    background: #ffffff; 
    border-color:#00000033; 
    box-shadow:none; 
  }
}

</style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-4">

    <div id="app" class="w-full max-w-4xl mx-auto">
        <div id="step1" class="bg-white p-8 rounded-xl shadow-lg">
            <h1 class="text-3xl font-bold text-center text-gray-800 mb-2">중학교 수학 교육과정</h1>
            <p class="text-center text-gray-500 mb-8">알아보고 싶은 내용 체계를 선택하세요.</p>
            <div id="content-system-selection" class="grid grid-cols-1 md:grid-cols-2 gap-6">
                </div>
        </div>

        <div id="step2" class="hidden bg-white p-8 rounded-xl shadow-lg fade-in">
            <div class="flex justify-between items-start mb-6">
                <div>
                    <h2 id="selected-system-title" class="text-3xl font-bold text-blue-600"></h2>
                    <p class="text-gray-500 mt-1">핵심 아이디어와 내용 요소를 선택하세요.</p>
                </div>
                <button id="back-button-step2" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors">
                    뒤로가기
                </button>
            </div>

            <div class="mb-8">
                <h3 class="text-xl font-semibold text-gray-700 mb-4 border-l-4 border-blue-500 pl-3">핵심 아이디어 (중복 선택 가능)</h3>
                <div id="core-ideas-container" class="space-y-3">
                    </div>
            </div>

            <div class="mb-8">
                <h3 class="text-xl font-semibold text-gray-700 mb-4 border-l-4 border-blue-500 pl-3">내용 요소 (세부 항목 중복 선택 가능)</h3>
                <div id="content-elements-container" class="space-y-6">
                    </div>
            </div>

            <div class="flex justify-center mt-8">
                <button id="next-to-achievements" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg transition-colors shadow-lg">
                    성취기준 선택하기
                </button>
            </div>
        </div>

        <div id="step3" class="hidden bg-white p-8 rounded-xl shadow-lg fade-in">
            <div class="flex justify-between items-start mb-6">
                <div>
                    <h2 id="achievements-system-title" class="text-3xl font-bold text-blue-600"></h2>
                    <p class="text-gray-500 mt-1">성취기준과 관련 해설을 선택하세요.</p>
                </div>
                <button id="back-button-step3" class="bg-gray-200 hover:bg-gray-300 text-gray-700 font-semibold py-2 px-4 rounded-lg transition-colors">
                    뒤로가기
                </button>
            </div>

            <div class="mb-8">
                <h3 class="text-xl font-semibold text-gray-700 mb-4 border-l-4 border-blue-500 pl-3">성취기준 및 해설 (중복 선택 가능)</h3>
                <div id="achievements-container" class="space-y-6">
                    </div>
            </div>

            <div id="final-result-container" class="hidden fade-in mt-8">
                <h3 class="text-xl font-semibold text-gray-700 mb-4 border-l-4 border-green-500 pl-3">선택한 내용</h3>
                <div id="final-result-list"></div>
            </div>

<div class="mt-6 flex items-center gap-3">
  <button id="build-table-button"
    class="bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-2 px-6 rounded-lg transition-colors shadow">
    표로 만들기
  </button>

  <button id="copy-table-button"
    class="bg-gray-700 hover:bg-gray-800 text-white font-semibold py-2 px-4 rounded-lg transition-colors shadow">
    표 복사하기
  </button>

  <span class="text-gray-500 text-sm">선택을 바꾸면 다시 버튼을 눌러 갱신하세요.</span>
</div>

<div id="table-output" class="mt-6 overflow-x-auto hidden"></div>

        </div>
    </div>

    <script>
// ===== Source attribution (please keep) =====
const AUTHOR = 'HYS';
window.__AUTHOR = AUTHOR;
console.log('Made by HYS · 개념 기반 탐구 수학 수업 실천 연구회 (25년 전국단위연구회)');
// ===========================================

        const achievementCommentary = {
            "[9수01-02]": "초등학교에서 학습한 최대공약수와 최소공배수의 개념을 바탕으로 소인수분해를 이용하여 최대공약수와 최소공배수를 구하게 한다. 최대공약수와 최소공배수는 자연수의 소인수분해를 이용하는 범위에서 다루고, 최대공약수와 최소공배수의 활용 문제는 다루지 않는다.",
            "[9수01-05]": "정수의 사칙계산의 원리는 여러 가지 모델을 이용하여 직관적으로 이해하게 하고, 실생활에서 사칙계산의 유용성을 인식하게 한다.",
            "[9수01-06]": "순환소수를 분수로 고치는 것은 순환소수가 유리수임을 이해할 수 있는 정도로 다룬다. 유한소수를 순환소수로 나타내는 것은 다루지 않는다.",
            "[9수01-08]": "실생활에서 사용되는 무리수의 예를 찾아보는 활동을 통해 무리수의 필요성과 유용성을 인식하게 한다. 실수는 유리수와 무리수로 이루어짐을 이해하게 하고, 수 체계의 논리적인 아름다움에 관심을 갖게 한다.",
            "[9수02-05]": "실생활에서 좌표가 사용되는 예를 찾아보고 이를 수직선과 좌표평면 위에 표현해 보며, 그 유용성과 편리함을 인식하게 한다.",
            "[9수02-06]": "다양한 상황을 그래프로 나타내어 증가와 감소, 주기적 변화 등 변화 상태를 쉽게 파악할 수 있게 한다. 주어진 그래프를 해석하여 그래프가 나타내는 상황을 설명하게 함으로써 그래프의 유용성을 인식하게 한다.",
            "[9수02-07]": "속력과 거리, 속력과 시간과 같은 실생활의 예를 통해 정비례와 반비례 관계를 직관적으로 이해하게 하고, 정비례와 반비례 관계가 성립하는 실생활의 예를 찾아 설명하게 한다.",
            "[9수02-08]": "지수법칙은 지수가 자연수인 범위에서 단항식의 곱셈과 나눗셈을 하는 데 필요한 정도로 다룬다.",
            "[9수02-10]": "다항식의 나눗셈에서는 다항식을 단항식으로 나누어 그 몫이 다항식이 되는 경우만 다룬다.",
            "[9수02-19]": "다항식의 곱셈과 다항식의 인수분해의 역관계를 이해하고, 이와 유사한 관계를 찾아보는 활동을 하게 한다. 다항식의 곱셈과 인수분해는 다음의 경우를 다룬다.",
            "[9수02-22]": "이차함수 y=a(x-p)²+q에서 최댓값과 최솟값은 x의 범위가 실수 전체인 경우만 다룬다.",
            "[9수03-01]": "점, 선, 면, 각과 관련된 용어는 다양한 상황에서 직관적으로 이해하게 한다.",
            "[9수03-03]": "주어진 삼각형과 합동인 삼각형을 작도하는 활동을 하고, 자신의 방법을 설명하게 한다.",
            "[9수03-05]": "삼각형의 내각과 외각의 크기, 다각형의 내각과 외각의 크기의 합, 다각형의 대각선의 개수를 구하는 과정을 탐구하여 다각형의 성질을 추인하고 일반화할 수 있게 한다.",
            "[9수03-07]": "구체적인 사물, 전개도, 교구, 컴퓨터 프로그램 등을 이용하여 다면체와 회전체를 관찰하고 그 성질을 탐구하게 한다. 회전체 단면의 모양은 회전체의 성질을 이해하는 데 필요한 정도로 다룬다.",
            "[9수03-09]": "종이접기, 작도, 공학 도구 등을 이용하여 이등변삼각형의 성질을 추인하게 하고, 그 성질을 삼각형의 합동 조건을 이용하여 정당화할 수 있게 한다. 이때, 증명이라는 용어를 도입하고, 그 필요성을 인식하게 한다.",
            "[9수03-11]": "사각형의 성질은 대각선에 관한 성질을 위주로 다룬다. 여러 가지 사각형의 성질을 통해 사각형 사이의 관계를 설명하게 한다.",
            "[9수03-15]": "피타고라스 정리는 다양한 활동을 통하여 추인하고 정당화할 수 있게 한다. 피타고라스 정리의 역은 직관적으로 이해하게 하고, 이를 이용하여 세 변의 길이가 주어진 삼각형이 직각삼각형인지 판별하게 한다.",
            "[9수03-17]": "삼각비를 활용하여 직접 측정하기 어려운 거리나 높이 등을 구해 보는 활동을 통해 유용성을 인식하고 흥미를 느낄 수 있게 한다.",
            "[9수04-01]": "대푯값에는 초등학교에서 학습한 평균 이외에도 중앙값, 최빈값이 있음을 알고 그 필요성을 인식하게 한다. 자료의 특성에 따라 적절한 대푯값을 선택하여 구해 보고, 각 대푯값이 어떤 상황에서 유용하게 사용될 수 있는지 토론하게 한다.",
            "[9수04-03]": "상대도수는 도수의 이합이 다른 두 집단의 분포를 비교하는 상황에서 간단히 다루고, 상대도수의 필요성과 유용성을 인식하게 한다.",
            "[9수04-04]": "다양한 맥락에서 해결하고자 하는 통계적 탐구 문제를 설정하고 적절한 계획을 세워 자료를 수집하게 한다. 수집한 자료를 자료의 특성과 목적에 맞게 표, 그래프, 수치 등으로 나타내어 분석하고, 그 결과를 탐구 문제와 연결하여 해석하게 한다. 자료를 수집하고 분석할 때는 인터넷 검색, 웹 기반 소프트웨어, 통계 프로그램 등을 활용하게 한다. 수집한 자료나 분석 결과가 적절한지 판단하여 계획을 수정하고, 통계적 근거를 바탕으로 토론하는 등 통계적 문제해결 과정에 주도적으로 참여하게 한다.",
            "[9수04-05]": "경우의 수는 두 경우의 수를 합하거나 곱하는 경우 정도로만 다루고, 순열과 조합을 이용하면 쉽게 해결되는 등의 복잡한 경우의 수를 구하는 문제는 다루지 않는다.",
            "[9수04-06]": "확률은 실험이나 관찰을 통해 구한 상대도수로서의 의미와 경우의 수의 비율로서의 의미를 연결하여 이해하게 한다. 경우의 수의 비율로 확률을 다룰 때, 각 경우가 발생할 가능성이 동등하다는 것을 가정한다는 점에 유의하게 한다.",
            "[9수04-08]": "상자그림을 다룰 때는 두 집단의 분포를 비교하고 해석하는 활동에 중점을 두고, 이를 통해 상자그림의 유용성을 인식하게 한다.",
            "[9수04-09]": "상관관계는 양의 상관관계, 음의 상관관계, 상관관계가 없는 경우로 구분하여 다룬다."
        };

        const curriculumData = {
            "수와 연산": {
                icon: "🔢",
                coreIdeas: [
                    "사물의 양은 자연수, 분수, 소수 등으로 표현되며, 수는 자연수에서 정수, 유리수, 실수로 확장된다.",
                    "사칙계산은 자연수에 대해 정의되며 정수, 유리수, 실수의 사칙계산으로 확장되고 이때 연산의 성질이 일관되게 성립한다.",
                    "수와 사칙계산은 수학 학습의 기본이 되며, 실생활 문제를 포함한 다양한 문제를 해결하는 데 유용하게 활용된다."
                ],
                middleSchool: {
                    "지식·이해": ["소인수분해", "정수와 유리수", "유리수와 순환소수", "제곱근과 실수"],
                    "과정·기능": ["최대공약수와 최소공배수 구하기", "정수, 유리수, 실수의 대소 관계 판단하기", "정수, 유리수, 근호를 포함한 식의 사칙계산의 원리를 탐구하고 계산하기", "유리수와 순환소수의 관계 설명하기"],
                    "가치·태도": ["음수, 무리수의 필요성 인식", "실생활에서 사칙계산의 유용성 인식", "수 체계의 논리적 아름다움에 대한 관심", "정수와 유리수의 사칙계산의 원리를 이용하는 문제의 풀이 과정과 결과를 반성하는 태도"]
                },
                achievements: {
                    "소인수분해": [
                        "[9수01-01] 소인수분해의 뜻을 알고, 자연수를 소인수분해 할 수 있다.",
                        "[9수01-02] 소인수분해를 이용하여 최대공약수와 최소공배수를 구할 수 있다."
                    ],
                    "정수와 유리수": [
                        "[9수01-03] 다양한 상황을 이용하여 음수의 필요성을 인식하고, 양수와 음수, 정수와 유리수의 개념을 이해한다.",
                        "[9수01-04] 정수와 유리수의 대소 관계를 판단할 수 있다.",
                        "[9수01-05] 정수와 유리수의 사칙계산의 원리를 이해하고, 그 계산을 할 수 있다."
                    ],
                    "유리수와 순환소수": [
                        "[9수01-06] 순환소수의 뜻을 알고, 유리수와 순환소수의 관계를 설명할 수 있다."
                    ],
                    "제곱근과 실수": [
                        "[9수01-07] 제곱근의 뜻과 성질을 알고, 제곱근의 대소 관계를 판단할 수 있다.",
                        "[9수01-08] 무리수의 개념을 이해하고, 무리수의 유용성을 인식할 수 있다.",
                        "[9수01-09] 실수의 대소 관계를 판단하고 설명할 수 있다.",
                        "[9수01-10] 근호를 포함한 식의 사칙계산의 원리를 이해하고, 그 계산을 할 수 있다."
                    ]
                }
            },
            "변화와 관계": {
                icon: "📈",
                coreIdeas: [
                    "변화하는 현상에 반복적인 요소로 들어있는 규칙은 수나 식으로 표현될 수 있으며, 규칙을 탐구하는 것은 수학적으로 추인하고 일반화하는 데 기반이 된다.",
                    "동치 관계, 대응 관계, 비례 관계 등은 여러 현상에 들어있는 대상들 사이의 다양한 관계를 기술하고 복잡한 문제를 해결하는 데 유용하게 활용된다.",
                    "수와 그 계산은 문자와 식을 사용하여 일반화되며, 특정한 관계를 만족시키는 미지의 값은 방정식과 부등식을 해결하는 적절한 절차를 거쳐 구해진다.",
                    "한 양이 변함에 따라 다른 양이 하나씩 정해지는 두 양 사이의 대응 관계를 나타내는 함수와 그 그래프는 변화하는 현상 속의 다양한 관계를 수학적으로 표현한다."
                ],
                middleSchool: {
                    "지식·이해": ["문자의 사용과 식", "일차방정식", "좌표평면과 그래프", "식의 계산", "일차부등식", "연립일차방정식", "일차함수와 그 그래프", "일차함수와 일차방정식의 관계", "다항식의 곱셈과 인수분해", "이차방정식", "이차함수와 그 그래프"],
                    "과정·기능": ["식의 값과 함숫값 구하기, 다항식의 연산 원리에 따라 계산하기, 식을 간단히 하기", "등식의 성질과 부등식의 성질 설명하기, 방정식과 부등식 풀기", "방정식, 부등식, 함수와 관련된 문제해결하기", "상황이나 관계를 표, 식, 그래프로 나타내기, 주어진 그래프 해석하기", "일차함수의 그래프와 이차함수의 그래프의 성질 설명하기", "일차함수의 그래프와 미지수가 2개인 일차방정식의 해 사이의 관계 설명하기"],
                    "가치·태도": ["문자의 유용성 인식, 순서쌍과 좌표, 그래프 등 수학적 표현의 유용성과 편리함 인식", "방정식, 부등식, 함수의 필요성 인식", "실생활, 사회 및 자연 현상과 관련된 문제를 수학적 모델링을 통해 해결하려는 도전적인 태도", "체계적으로 사고하여 합리적으로 의사 결정하는 태도, 타당한 근거에 따라 논리적으로 설명하는 태도"]
                },
                achievements: {
                    "문자의 사용과 식": [
                        "[9수02-01] 다양한 상황을 문자를 사용한 식으로 나타내어 그 유용성을 인식하고, 식의 값을 구할 수 있다.",
                        "[9수02-02] 일차식의 덧셈과 뺄셈의 원리를 이해하고, 그 계산을 할 수 있다."
                    ],
                    "일차방정식": [
                        "[9수02-03] 방정식과 그 해의 뜻을 알고, 등식의 성질을 설명할 수 있다.",
                        "[9수02-04] 일차방정식을 풀 수 있고, 이를 활용하여 문제를 해결할 수 있다."
                    ],
                    "좌표평면과 그래프": [
                        "[9수02-05] 순서쌍과 좌표를 이해하고, 그 편리함을 인식할 수 있다.",
                        "[9수02-06] 다양한 상황을 그래프로 나타내고, 주어진 그래프를 해석할 수 있다.",
                        "[9수02-07] 정비례, 반비례 관계를 이해하고, 그 관계를 표, 식, 그래프로 나타낼 수 있다."
                    ],
                    "식의 계산": [
                        "[9수02-08] 지수법칙을 이해하고, 이를 이용하여 식을 간단히 할 수 있다.",
                        "[9수02-09] 다항식의 덧셈과 뺄셈의 원리를 이해하고, 그 계산을 할 수 있다.",
                        "[9수02-10] '(단항식)×(다항식)', '(다항식)÷(다항식)'과 같은 곱셈과 나눗셈의 원리를 이해하고, 그 계산을 할 수 있다."
                    ],
                    "일차부등식": [
                        "[9수02-11] 부등식과 그 해의 뜻을 알고, 부등식의 성질을 설명할 수 있다.",
                        "[9수02-12] 일차부등식을 풀 수 있고, 이를 활용하여 문제를 해결할 수 있다."
                    ],
                    "연립일차방정식": [
                        "[9수02-13] 미지수가 2개인 연립일차방정식을 풀 수 있고, 이를 활용하여 문제를 해결할 수 있다."
                    ],
                    "일차함수와 그 그래프": [
                        "[9수02-14] 함수의 개념을 이해하고, 함숫값을 구할 수 있다.",
                        "[9수02-15] 일차함수의 개념을 이해하고, 그 그래프를 그릴 수 있다.",
                        "[9수02-16] 일차함수의 그래프의 성질을 이해하고, 이를 활용하여 문제를 해결할 수 있다."
                    ],
                    "일차함수와 일차방정식의 관계": [
                        "[9수02-17] 일차함수와 미지수가 2개인 일차방정식의 관계를 설명할 수 있다.",
                        "[9수02-18] 두 일차함수의 그래프와 연립일차방정식의 관계를 설명할 수 있다."
                    ],
                    "다항식의 곱셈과 인수분해": [
                        "[9수02-19] 다항식의 곱셈과 인수분해를 할 수 있다."
                    ],
                    "이차방정식": [
                        "[9수02-20] 이차방정식을 풀 수 있고, 이를 활용하여 문제를 해결할 수 있다."
                    ],
                    "이차함수와 그 그래프": [
                        "[9수02-21] 이차함수의 개념을 이해한다.",
                        "[9수02-22] 이차함수의 그래프를 그릴 수 있고, 그 성질을 설명할 수 있다."
                    ]
                }
            },
            "도형과 측정": {
                icon: "📐",
                coreIdeas: [
                    "평면도형과 입체도형은 여러 가지 모양을 범주화한 것이며, 각각의 평면도형과 입체도형은 고유한 성질을 갖는다.",
                    "도형의 성질과 관계를 탐구하고 정당화하는 것은 논리적이고 비판적으로 사고하는 데 기반이 된다.",
                    "측정은 여러 가지 속성의 양을 비교하고 속성에 따른 단위를 이용하여 양을 수치화함으로써 여러 가지 현상을 해석하거나 실생활 문제를 해결하는 데 활용된다."
                ],
                middleSchool: {
                    "지식·이해": ["기본 도형", "작도와 합동", "평면도형의 성질", "입체도형의 성질", "삼각형과 사각형의 성질", "도형의 닮음", "피타고라스 정리", "삼각비", "원의 성질"],
                    "과정·기능": ["점, 직선, 평면의 위치 관계를 다양한 상황과 연결하기, 도형의 성질 설명하기", "삼각형의 작도 과정 설명하기, 삼각형의 합동과 닮음 판별하기", "도형의 길이, 넓이, 겉넓이, 부피 구하기", "구체적인 모형이나 공학 도구 이용하기, 도형의 성질을 정당화하기", "닮음비 구하기, 간단한 삼각비의 값 구하기, 삼각비를 활용하여 문제해결하기"],
                    "가치·태도": ["증명의 필요성 인식, 피타고라스 정리, 삼각비의 유용성 인식", "피타고라스 정리, 삼각비에 대한 흥미와 관심", "도형의 성질을 이용한 건축물, 문화유산, 예술 작품에 대한 흥미와 관심", "다양한 정당화 방법을 이용하여 체계적으로 사고하고 타인을 합리적으로 설득하려는 태도", "정당화를 통해 수학적 근거를 바탕으로 비판적으로 사고하는 태도"]
                },
                achievements: {
                    "기본 도형": [
                        "[9수03-01] 점, 선, 면, 각을 이해하고, 실생활 상황과 연결하여 점, 직선, 평면의 위치 관계를 설명할 수 있다.",
                        "[9수03-02] 평행선에서 동위각과 엇각의 성질을 이해하고 설명할 수 있다."
                    ],
                    "작도와 합동": [
                        "[9수03-03] 삼각형을 작도하고, 그 과정을 설명할 수 있다.",
                        "[9수03-04] 삼각형의 합동 조건을 이해하고, 이를 이용하여 두 삼각형이 합동인지 판별할 수 있다."
                    ],
                    "평면도형의 성질": [
                        "[9수03-05] 다각형의 성질을 이해하고 설명할 수 있다.",
                        "[9수03-06] 부채꼴의 중심각과 호의 관계를 이해하고, 이를 이용하여 부채꼴의 호의 길이와 넓이를 구할 수 있다."
                    ],
                    "입체도형의 성질": [
                        "[9수03-07] 구체적인 모형이나 공학 도구를 이용하여 다면체와 회전체의 성질을 탐구하고, 이를 설명할 수 있다.",
                        "[9수03-08] 입체도형의 겉넓이와 부피를 구할 수 있다."
                    ],
                    "삼각형과 사각형의 성질": [
                        "[9수03-09] 이등변삼각형의 성질을 이해하고 정당화할 수 있다.",
                        "[9수03-10] 삼각형의 외심과 내심의 성질을 이해하고 정당화할 수 있다.",
                        "[9수03-11] 사각형의 성질을 이해하고 정당화할 수 있다."
                    ],
                    "도형의 닮음": [
                        "[9수03-12] 도형의 닮음의 뜻과 닮은 도형의 성질을 이해하고, 닮음비를 구할 수 있다.",
                        "[9수03-13] 삼각형의 닮음 조건을 이해하고, 이를 이용하여 두 삼각형이 닮음인지 판별할 수 있다.",
                        "[9수03-14] 평행선 사이의 선분의 길이의 비를 구할 수 있다."
                    ],
                    "피타고라스 정리": [
                        "[9수03-15] 피타고라스 정리를 이해하고 정당화할 수 있다."
                    ],
                    "삼각비": [
                        "[9수03-16] 삼각비의 뜻을 알고, 간단한 삼각비의 값을 구할 수 있다.",
                        "[9수03-17] 삼각비를 활용하여 여러 가지 문제를 해결할 수 있다."
                    ],
                    "원의 성질": [
                        "[9수03-18] 원의 현에 관한 성질과 접선에 관한 성질을 이해하고 정당화할 수 있다.",
                        "[9수03-19] 원주각의 성질을 이해하고 정당화할 수 있다."
                    ]
                }
            },
            "자료와 가능성": {
                icon: "📊",
                coreIdeas: [
                    "자료를 수집, 정리, 해석하는 통계는 자료의 특징을 파악하고 두 집단을 비교하며 자료의 관계를 탐구하는 데 활용된다.",
                    "사건이 일어날 가능성을 여러 가지 방법으로 표현하는 것은 불확실성을 이해하는 데 도움이 되며, 가능성을 확률로 수치화하면 불확실성을 수학적으로 다룰 수 있게 된다.",
                    "자료를 이용하여 통계적 문제해결 과정을 실천하고 생활 속의 가능성을 탐구하는 것은 미래를 예측하고 합리적인 의사 결정을 하는 데 기반이 된다."
                ],
                middleSchool: {
                    "지식·이해": ["대푯값", "도수분포표와 상대도수", "경우의 수와 확률", "산포도", "상자그림과 산점도"],
                    "과정·기능": ["적절한 대푯값을 선택하여 구하기, 자료를 표, 그래프로 나타내고 해석하기", "통계적 탐구 문제 설정하기, 공학 도구를 이용하여 자료를 수집하고 분석하기", "확률의 기본 성질 탐구하기, 자료의 분포를 비교하고 설명하기, 자료의 상관관계 설명하기"],
                    "가치·태도": ["대푯값, 상대도수, 상자그림의 유용성 인식", "공학 도구를 이용한 자료 수집과 분석의 편리함과 유용성 인식", "자신의 삶과 연계된 확률과 통계에 대한 흥미와 관심", "통계적 문제해결 과정에 주도적으로 참여하는 태도", "체계적으로 사고하여 합리적으로 의사 결정하는 태도", "확률 및 통계적 근거를 바탕으로 비판적으로 사고하는 태도"]
                },
                achievements: {
                    "대푯값": [
                        "[9수04-01] 중앙값, 최빈값의 뜻을 알고, 자료의 특성에 따라 적절한 대푯값을 선택하여 구할 수 있다."
                    ],
                    "도수분포표와 상대도수": [
                        "[9수04-02] 자료를 줄기와 잎 그림, 도수분포표, 히스토그램, 도수분포다각형으로 나타내고 해석할 수 있다.",
                        "[9수04-03] 상대도수를 구하고, 상대도수의 분포를 표나 그래프로 나타내고 해석할 수 있다.",
                        "[9수04-04] 통계적 탐구 문제를 설정하고, 공학 도구를 이용하여 자료를 수집하여 분석하고, 그 결과를 해석할 수 있다."
                    ],
                    "경우의 수와 확률": [
                        "[9수04-05] 경우의 수를 구할 수 있다.",
                        "[9수04-06] 확률의 개념과 그 기본 성질을 이해하고, 확률을 구할 수 있다."
                    ],
                    "산포도": [
                        "[9수04-07] 분산과 표준편차를 구하고 자료의 분포를 설명할 수 있다."
                    ],
                    "상자그림과 산점도": [
                        "[9수04-08] 공학 도구를 이용하여 자료를 상자그림으로 나타내고 분포를 비교할 수 있다.",
                        "[9수04-09] 자료를 산점도로 나타내고 상관관계를 말할 수 있다."
                    ]
                }
            }
        };

        const step1 = document.getElementById('step1');
        const step2 = document.getElementById('step2');
        const step3 = document.getElementById('step3');
        const contentSystemSelection = document.getElementById('content-system-selection');
        
        let currentSystem = '';
        let selectedContentItems = [];

        function showStep1() {
            step2.classList.add('hidden');
            step3.classList.add('hidden');
            step1.classList.remove('hidden');
        }

        function showStep2(systemName) {
            currentSystem = systemName;
            step1.classList.add('hidden');
            step3.classList.add('hidden');
            step2.classList.remove('hidden');

            const data = curriculumData[systemName];
            document.getElementById('selected-system-title').textContent = `${data.icon} ${systemName}`;

            const coreIdeasContainer = document.getElementById('core-ideas-container');
            coreIdeasContainer.innerHTML = '';
            data.coreIdeas.forEach((idea, index) => {
                const label = document.createElement('label');
                label.className = "flex items-center p-3 bg-gray-100 rounded-lg cursor-pointer hover:bg-blue-100 transition-colors";
                label.innerHTML = `
                    <input type="checkbox" data-idea-index="${index}" class="h-5 w-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 core-idea-checkbox">
                    <span class="ml-3 text-gray-700">${idea}</span>
                `;
                coreIdeasContainer.appendChild(label);
            });

            const contentElementsContainer = document.getElementById('content-elements-container');
            contentElementsContainer.innerHTML = '';
            
            Object.keys(data.middleSchool).forEach(category => {
                const categoryDiv = document.createElement('div');
                categoryDiv.className = "bg-gray-50 p-4 rounded-lg";
                
                const categoryTitle = document.createElement('h4');
                categoryTitle.className = "font-bold text-gray-800 mb-3 text-lg";
                categoryTitle.textContent = category;
                categoryDiv.appendChild(categoryTitle);
                
                const itemsContainer = document.createElement('div');
                itemsContainer.className = "space-y-2 ml-2";
                
                data.middleSchool[category].forEach((item, index) => {
                    const label = document.createElement('label');
                    label.className = "flex items-start p-2 bg-white rounded cursor-pointer hover:bg-blue-50 transition-colors";
                    label.innerHTML = `
                        <input type="checkbox" data-category="${category}" data-item="${item}" class="h-5 w-5 mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 content-item-checkbox">
                        <span class="ml-3 text-gray-700">${item}</span>
                    `;
                    itemsContainer.appendChild(label);
                });
                
                categoryDiv.appendChild(itemsContainer);
                contentElementsContainer.appendChild(categoryDiv);
            });
        }

        function showStep3() {
            selectedContentItems = [];
            document.querySelectorAll('.content-item-checkbox:checked').forEach(checkbox => {
                if (checkbox.dataset.category === '지식·이해') {
                    selectedContentItems.push(checkbox.dataset.item);
                }
            });

            if (selectedContentItems.length === 0) {
                alert('\'지식·이해\' 카테고리의 내용 요소를 하나 이상 선택해주세요.');
                return;
            }

            step2.classList.add('hidden');
            step3.classList.remove('hidden');

            const data = curriculumData[currentSystem];
            document.getElementById('achievements-system-title').textContent = `${data.icon} ${currentSystem} - 성취기준`;

            const achievementsContainer = document.getElementById('achievements-container');
            achievementsContainer.innerHTML = '';

            selectedContentItems.forEach(item => {
                const achievements = data.achievements[item];
                
                if (achievements && achievements.length > 0) {
                    const itemDiv = document.createElement('div');
                    itemDiv.className = "bg-gray-50 p-4 rounded-lg";
                    
                    const itemTitle = document.createElement('h4');
                    itemTitle.className = "font-bold text-gray-800 mb-3 text-lg";
                    itemTitle.textContent = item;
                    itemDiv.appendChild(itemTitle);
                    
                    const achievementsListContainer = document.createElement('div');
                    achievementsListContainer.className = "space-y-2 ml-2";
                    
                    achievements.forEach(achievement => {
                        const achievementBlock = document.createElement('div');
                        achievementBlock.className = 'achievement-block mb-2';

                        const codeMatch = achievement.match(/^(\[.*?\])/);
                        const code = codeMatch ? codeMatch[1] : null;
                        const commentary = code ? achievementCommentary[code] : null;

                        let blockHTML = `
                            <label class="flex items-start p-2 bg-white rounded cursor-pointer hover:bg-green-50 transition-colors">
                                <input type="checkbox" data-item="${item}" data-achievement="${achievement}" class="h-5 w-5 mt-0.5 rounded border-gray-300 text-green-600 focus:ring-green-500 achievement-checkbox">
                                <span class="ml-3 text-gray-700">${achievement}</span>
                            </label>
                        `;

                        if (commentary) {
                            const commentaryText = commentary.replace(/^\[.*?\]\s*/, '');
                            blockHTML += `
                            <div class="mt-1 ml-8 p-3 bg-blue-50 rounded-md border border-blue-200">
                                <label class="flex items-start cursor-pointer">
                                    <input type="checkbox" data-commentary-for="${achievement}" data-commentary-text="${commentary}" class="h-5 w-5 mt-0.5 rounded border-gray-300 text-blue-600 focus:ring-blue-500 commentary-checkbox">
                                    <span class="ml-3 text-sm text-gray-600">
                                        <strong class="text-blue-700">[성취기준 해설]</strong> ${commentaryText}
                                    </span>
                                </label>
                            </div>
                            `;
                        }
                        achievementBlock.innerHTML = blockHTML;
                        achievementsListContainer.appendChild(achievementBlock);
                    });
                    
                    itemDiv.appendChild(achievementsListContainer);
                    achievementsContainer.appendChild(itemDiv);
                }
            });

            document.getElementById('final-result-container').classList.add('hidden');
        }

        function updateFinalResults() {
            const finalResultList = document.getElementById('final-result-list');
            finalResultList.innerHTML = '';

            const selectedCoreIdeas = document.querySelectorAll('.core-idea-checkbox:checked');
            const selectedContentElements = document.querySelectorAll('.content-item-checkbox:checked');
            const selectedAchievements = document.querySelectorAll('.achievement-checkbox:checked');

            let hasContent = false;

            if (selectedCoreIdeas.length > 0) {
                hasContent = true;
                const coreIdeaSection = document.createElement('div');
                coreIdeaSection.className = "mb-6";
                
                const title = document.createElement('h4');
                title.className = "text-lg font-semibold text-gray-700 mb-3 border-l-4 border-purple-500 pl-3";
                title.textContent = "핵심 아이디어";
                
                const list = document.createElement('ul');
                list.className = "list-disc list-inside bg-purple-50 p-4 rounded-lg space-y-2 text-gray-800";
                
                selectedCoreIdeas.forEach(checkbox => {
                    const ideaIndex = checkbox.dataset.ideaIndex;
                    const idea = curriculumData[currentSystem].coreIdeas[ideaIndex];
                    const li = document.createElement('li');
                    li.textContent = idea;
                    list.appendChild(li);
                });
                
                coreIdeaSection.appendChild(title);
                coreIdeaSection.appendChild(list);
                finalResultList.appendChild(coreIdeaSection);
            }

            const otherContent = {};
            selectedContentElements.forEach(checkbox => {
                const category = checkbox.dataset.category;
                 {
                    if (!otherContent[category]) otherContent[category] = [];
                    otherContent[category].push(checkbox.dataset.item);
                }
            });

            if (Object.keys(otherContent).length > 0) {
                hasContent = true;
                const contentSection = document.createElement('div');
                contentSection.className = "mb-6";
                const title = document.createElement('h4');
                title.className = "text-lg font-semibold text-gray-700 mb-3 border-l-4 border-yellow-500 pl-3";
                title.textContent = "내용 요소";
                contentSection.appendChild(title);

                Object.keys(otherContent).forEach(category => {
                    const catDiv = document.createElement('div');
                    catDiv.className = "mb-3"
                    const catTitle = document.createElement('h5');
                    catTitle.className = "font-semibold text-gray-600 mb-2 ml-2";
                    catTitle.textContent = category;
                    const list = document.createElement('ul');
                    list.className = "list-disc list-inside bg-gray-50 p-4 rounded-lg space-y-2 text-gray-800";
                    otherContent[category].forEach(item => {
                        const li = document.createElement('li');
                        li.textContent = item;
                        list.appendChild(li);
                    });
                    catDiv.appendChild(catTitle);
                    catDiv.appendChild(list);
                    contentSection.appendChild(catDiv);
                });
                finalResultList.appendChild(contentSection);
            }

            if (selectedAchievements.length > 0) {
                hasContent = true;
                const groupedAchievements = {};
                selectedAchievements.forEach(checkbox => {
                    const item = checkbox.dataset.item;
                    if (!groupedAchievements[item]) {
                        groupedAchievements[item] = [];
                    }
                    groupedAchievements[item].push(checkbox.dataset.achievement);
                });

                Object.keys(groupedAchievements).forEach(item => {
                    const achievementSection = document.createElement('div');
                    achievementSection.className = "mb-6";
                    
                    const title = document.createElement('h4');
                    title.className = "text-lg font-semibold text-gray-700 mb-3 border-l-4 border-green-500 pl-3";
                    title.textContent = `성취기준: ${item}`;
                    
                    const list = document.createElement('ul');
                    list.className = "space-y-2 bg-gray-50 p-4 rounded-lg text-gray-800";
                    
                    groupedAchievements[item].forEach(achievement => {
                        const li = document.createElement('li');
                        li.className = "mb-2";
                        
                        const achievementText = document.createElement('div');
                        achievementText.textContent = `• ${achievement}`;
                        li.appendChild(achievementText);
                        
                        const commentaryCheckbox = document.querySelector(`.commentary-checkbox[data-commentary-for="${achievement}"]:checked`);
                        if (commentaryCheckbox) {
                            const commentaryText = commentaryCheckbox.dataset.commentaryText.replace(/^\[.*?\]\s*/, '');
                            const commentaryEl = document.createElement('div');
                            commentaryEl.className = "ml-6 mt-1 p-2 bg-blue-100 rounded text-sm text-gray-800 border-l-4 border-blue-400";
                            commentaryEl.innerHTML = `<strong class="text-blue-700">[해설]</strong> ${commentaryText}`;
                            li.appendChild(commentaryEl);
                        }
                        
                        list.appendChild(li);
                    });
                    
                    achievementSection.appendChild(title);
                    achievementSection.appendChild(list);
                    finalResultList.appendChild(achievementSection);
                });
            }

            if(hasContent) {
                document.getElementById('final-result-container').classList.remove('hidden');
            } else {
                document.getElementById('final-result-container').classList.add('hidden');
            }
        }

        function init() {
            Object.keys(curriculumData).forEach(systemName => {
                const data = curriculumData[systemName];
                const card = document.createElement('div');
                card.className = 'card bg-white p-6 rounded-lg border border-gray-200 cursor-pointer';
                card.innerHTML = `
                    <div class="text-4xl mb-3">${data.icon}</div>
                    <h3 class="text-xl font-bold text-gray-800">${systemName}</h3>
                `;
                card.addEventListener('click', () => showStep2(systemName));
                contentSystemSelection.appendChild(card);
            });
            
            document.getElementById('back-button-step2').addEventListener('click', showStep1);
            document.getElementById('back-button-step3').addEventListener('click', () => {
                step3.classList.add('hidden');
                step2.classList.remove('hidden');
            });

            document.getElementById('next-to-achievements').addEventListener('click', showStep3);

            document.getElementById('step2').addEventListener('change', (event) => {
                if (event.target.classList.contains('core-idea-checkbox') || event.target.classList.contains('content-item-checkbox')) {
                }
            });

            document.getElementById('step3').addEventListener('change', (event) => {
                if (event.target.classList.contains('achievement-checkbox') || event.target.classList.contains('commentary-checkbox')) {
                    updateFinalResults();
                }
            });
        }

        
function buildFinalTable() {
  const selectedCoreIdeas = Array.from(document.querySelectorAll('.core-idea-checkbox:checked'))
    .map(cb => curriculumData[currentSystem].coreIdeas[cb.dataset.ideaIndex]);

  const selectedAchievements = Array.from(document.querySelectorAll('.achievement-checkbox:checked'))
    .map(cb => cb.dataset.achievement);

  const selectedContentByCat = { "지식·이해": [], "과정·기능": [], "가치·태도": [] };
  document.querySelectorAll('.content-item-checkbox:checked').forEach(cb => {
    const cat = cb.dataset.category;
    const item = cb.dataset.item;
    if (selectedContentByCat[cat] && !selectedContentByCat[cat].includes(item)) {
      selectedContentByCat[cat].push(item);
    }
  });

  const ul = arr => (arr && arr.length) ? `<ul>${arr.map(t=>`<li>${t}</li>`).join('')}</ul>` : '';

  // 단원계획서 양식.html의 7~11행 구조를 반영한 표
  const tableHTML = `
  <table class="curr-table">
    <colgroup>
      <col style="width:108px"><!-- A열 -->
      <col style="width:112px"><!-- B열 -->
      <col style="width:70px"><!-- C열 -->
      <col style="width:127px"><!-- D열 -->
      <col style="width:100px"><!-- E열 -->
      <col style="width:266px"><!-- F열 -->
    </colgroup>

    <!-- 1행: 7행 구조 (교육과정 핵심 아이디어) -->
    <tr>
      <th class="s5">교육과정<br>핵심 아이디어</th>
      <td class="s7" colspan="5">${ul(selectedCoreIdeas)}</td>
    </tr>

    <!-- 2행: 8행 구조 (성취기준) -->
    <tr>
      <th class="s5">성취기준</th>
      <td class="s7" colspan="5">${ul(selectedAchievements)}</td>
    </tr>

    <!-- 3행: 9행 구조 (내용요소 - 지식·이해) -->
    <tr>
      <th class="s5" rowspan="3">내용 요소</th>
      <th class="s5">지식·이해</th>
      <td class="s7" colspan="4">${ul(selectedContentByCat["지식·이해"])}</td>
    </tr>
    
    <!-- 4행: 10행 구조 (내용요소 - 과정·기능) -->
    <tr>
      <th class="s5">과정·기능</th>
      <td class="s7" colspan="4">${ul(selectedContentByCat["과정·기능"])}</td>
    </tr>
    
    <!-- 5행: 11행 구조 (내용요소 - 가치·태도) -->
    <tr>
      <th class="s5">가치·태도</th>
      <td class="s7" colspan="4">${ul(selectedContentByCat["가치·태도"])}</td>
    </tr>
  </table>
`;

  const out = document.getElementById('table-output');
  out.innerHTML = tableHTML;
  out.classList.remove('hidden');
}

async function copyFinalTable() {
  const out = document.getElementById('table-output');
  const table = out.querySelector('table');
  if (!table) { alert('복사할 표가 없습니다. 먼저 "표로 만들기"를 눌러 주세요.'); return; }
  try {
    const blob = new Blob([table.outerHTML], { type: 'text/html' });
    const data = [new ClipboardItem({ 'text/html': blob })];
    await navigator.clipboard.write(data);
    alert('표가 클립보드(HTML)로 복사되었습니다. 서식 붙여넣기로 옮겨주세요😊');
  } catch (e) {
    const range = document.createRange();
    range.selectNode(table);
    const sel = window.getSelection();
    sel.removeAllRanges();
    sel.addRange(range);
    document.execCommand('copy');
    sel.removeAllRanges();
    alert('표가 텍스트로 복사되었습니다.');
  }
}

document.addEventListener('DOMContentLoaded', () => {
  document.getElementById('build-table-button')?.addEventListener('click', buildFinalTable);
  document.getElementById('copy-table-button')?.addEventListener('click', copyFinalTable);
});

init();
    </script>
    <!-- visible bottom-right attribution -->
    <div class="attribution-badge select-none">
      만든이: 개념 기반 탐구 수학 수업 실천 연구회 (25년 전국단위연구회)
    </div>


</body>
</html>
